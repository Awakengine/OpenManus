# OpenManus

<div align="center">

[![GitHub stars](https://img.shields.io/github/stars/MannaandPoem/OpenManus.svg?style=social&label=Star)](https://github.com/MannaandPoem/OpenManus)
[![GitHub forks](https://img.shields.io/github/forks/MannaandPoem/OpenManus.svg?style=social&label=Fork)](https://github.com/MannaandPoem/OpenManus)
[![GitHub watchers](https://img.shields.io/github/watchers/MannaandPoem/OpenManus.svg?style=social&label=Watch)](https://github.com/MannaandPoem/OpenManus)
[![GitHub followers](https://img.shields.io/github/followers/MannaandPoem.svg?style=social&label=Follow)](https://github.com/MannaandPoem)

</div>

**OpenManus** æ˜¯ä¸€ä¸ªå¼€æºçš„å¤šæ¨¡æ€AIä»£ç†ç³»ç»Ÿï¼Œèƒ½å¤Ÿé€šè¿‡è‡ªç„¶è¯­è¨€ä¸è®¡ç®—æœºè¿›è¡Œäº¤äº’ã€‚

**OpenManus** é›†æˆäº† [Computer Use](https://www.anthropic.com/news/3-5-models-and-computer-use)ã€[Browser Use](https://github.com/gregpr07/browser-use)ã€[MCP](https://github.com/modelcontextprotocol/python-sdk) ç­‰å‰æ²¿æŠ€æœ¯ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿç”¨è‡ªç„¶è¯­è¨€æ§åˆ¶è®¡ç®—æœºå®Œæˆå„ç§å¤æ‚ä»»åŠ¡ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¤– å¤šæ¨¡æ€AIä»£ç†
- **Computer Use**: èƒ½å¤Ÿçœ‹åˆ°å±å¹•å¹¶æ‰§è¡Œç‚¹å‡»ã€è¾“å…¥ã€æ»šåŠ¨ç­‰æ“ä½œ
- **Browser Use**: è‡ªåŠ¨åŒ–ç½‘é¡µå¯¼èˆªã€è¡¨å•å¡«å†™ã€æ•°æ®æå–
- **Code Execution**: æ‰§è¡ŒPythonã€JavaScriptç­‰å¤šç§ç¼–ç¨‹è¯­è¨€ä»£ç 
- **File Operations**: åˆ›å»ºã€ç¼–è¾‘ã€æ•´ç†å’Œåˆ†ææ–‡ä»¶

### ğŸŒ ç°ä»£åŒ–Webç•Œé¢
- **ç”¨æˆ·è®¤è¯**: å®‰å…¨çš„ç™»å½•å’Œç”¨æˆ·ç®¡ç†ç³»ç»Ÿ
- **å¯¹è¯å†å²**: æŒä¹…åŒ–çš„èŠå¤©è®°å½•å’Œå¯¹è¯ç®¡ç†
- **å®æ—¶èŠå¤©**: å“åº”å¼çš„èŠå¤©ç•Œé¢
- **æ–‡ä»¶ç®¡ç†**: æ‹–æ‹½ä¸Šä¼ æ–‡ä»¶åŠŸèƒ½
- **è®¾ç½®ç®¡ç†**: ç›´è§‚çš„é…ç½®é¢æ¿

### ğŸ› ï¸ å¼€å‘è€…å‹å¥½
- **MCPé›†æˆ**: åŸºäºModel Context Protocolçš„å¯æ‰©å±•å·¥å…·ç³»ç»Ÿ
- **æ’ä»¶æ¶æ„**: è½»æ¾æ·»åŠ è‡ªå®šä¹‰å·¥å…·å’Œä»£ç†
- **å¤šLLMæ”¯æŒ**: æ”¯æŒOpenAIã€Anthropicã€Ollamaç­‰å¤šç§æ¨¡å‹
- **é«˜åº¦å¯é…ç½®**: ä¸°å¯Œçš„é…ç½®é€‰é¡¹å’Œè‡ªå®šä¹‰èƒ½åŠ›

### ğŸ”§ å†…ç½®å·¥å…·
- **Pythonæ‰§è¡Œå™¨**: ä»£ç æ‰§è¡Œå’Œè°ƒè¯•
- **æµè§ˆå™¨è‡ªåŠ¨åŒ–**: Webä»»åŠ¡è‡ªåŠ¨åŒ–
- **æ–‡ä»¶ç¼–è¾‘å™¨**: æ–‡æœ¬æ–‡ä»¶ç¼–è¾‘å’Œæ“ä½œ
- **æœç´¢åŠŸèƒ½**: ç½‘ç»œæœç´¢å’Œæ•°æ®æ”¶é›†
- **ç»ˆç«¯è®¿é—®**: ç³»ç»Ÿå‘½ä»¤æ‰§è¡Œ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Python**: 3.12 æˆ–æ›´é«˜ç‰ˆæœ¬
- **æ“ä½œç³»ç»Ÿ**: Windowsã€macOSã€Linux
- **å†…å­˜**: å»ºè®® 4GB ä»¥ä¸Š
- **å­˜å‚¨**: è‡³å°‘ 2GB å¯ç”¨ç©ºé—´

### å®‰è£…æ–¹å¼

#### æ–¹å¼ä¸€ï¼šä½¿ç”¨ condaï¼ˆæ¨èï¼‰

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/MannaandPoem/OpenManus.git
cd OpenManus

# åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
conda create -n openmanus python=3.12
conda activate openmanus

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

#### æ–¹å¼äºŒï¼šä½¿ç”¨ uvï¼ˆæ›´å¿«ï¼‰

```bash
# å®‰è£… uv
pip install uv

# å…‹éš†é¡¹ç›®
git clone https://github.com/MannaandPoem/OpenManus.git
cd OpenManus

# ä½¿ç”¨ uv å®‰è£…ä¾èµ–
uv pip install -r requirements.txt
```

### é…ç½®è®¾ç½®

1. **å¤åˆ¶é…ç½®æ–‡ä»¶**ï¼š
```bash
cp config/config.example.toml config/config.toml
```

2. **ç¼–è¾‘é…ç½®æ–‡ä»¶**ï¼Œè®¾ç½®æ‚¨çš„ LLM API å¯†é’¥ï¼š

**Anthropic Claude ç¤ºä¾‹**ï¼š
```toml
[llm]
model = "claude-3-7-sonnet-20250219"
base_url = "https://api.anthropic.com/v1/"
api_key = "YOUR_API_KEY"  # æ›¿æ¢ä¸ºæ‚¨çš„å®é™… API å¯†é’¥
max_tokens = 8192
temperature = 0.0
```

**LM Studio æœ¬åœ°æ¨¡å‹ç¤ºä¾‹**ï¼š
```toml
[llm]
api_type = 'openai'
model = "your-model-name"              # LM Studio ä¸­åŠ è½½çš„æ¨¡å‹åç§°
base_url = "http://localhost:1234/v1"  # LM Studio API ç«¯ç‚¹
api_key = "lm-studio"                  # æœ¬åœ°æœåŠ¡å¯ä»¥æ˜¯ä»»æ„å­—ç¬¦ä¸²
max_tokens = 4096
temperature = 0.7
```

> ğŸ’¡ **æç¤º**: æ›´å¤šé…ç½®ç¤ºä¾‹è¯·å‚è€ƒ `config/` ç›®å½•ä¸‹çš„ç¤ºä¾‹æ–‡ä»¶ï¼ŒåŒ…æ‹¬ Azure OpenAIã€Ollama ç­‰é…ç½®ã€‚
> ğŸ“– **LM Studio è¯¦ç»†é…ç½®**: è¯·å‚è€ƒ [LM Studio é›†æˆæŒ‡å—](docs/LM_STUDIO_INTEGRATION.md)

æ”¯æŒçš„ LLM æä¾›å•†ï¼š
- **Anthropic Claude**: claude-3-7-sonnet, claude-3-haiku ç­‰
- **OpenAI**: gpt-4o, gpt-4o-mini ç­‰
- **Azure OpenAI**: ä¼ä¸šçº§ OpenAI æœåŠ¡
- **Ollama**: æœ¬åœ°éƒ¨ç½²çš„å¼€æºæ¨¡å‹
- **LM Studio**: æœ¬åœ°è¿è¡Œçš„å¤§è¯­è¨€æ¨¡å‹ï¼Œæä¾› OpenAI å…¼å®¹ API
- **Amazon Bedrock**: AWS æ‰˜ç®¡çš„ AI æœåŠ¡

### ğŸš€ å‘½ä»¤è¡Œç•Œé¢

ç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œ OpenManusï¼š

```bash
python main.py
```

ç„¶ååœ¨ç»ˆç«¯ä¸­è¾“å…¥æ‚¨çš„æƒ³æ³•ï¼Œè®© OpenManus ä¸ºæ‚¨å®ç°ï¼

### ğŸŒ Web ç”¨æˆ·ç•Œé¢

å¯åŠ¨æ›´å‹å¥½çš„ Web ç•Œé¢ï¼š

```bash
python run_webui.py
```

ç„¶ååœ¨æµè§ˆå™¨ä¸­è®¿é—® `http://localhost:5000`ï¼Œäº«å—ç°ä»£åŒ–çš„ Web ç•Œé¢ï¼š
- ç”¨æˆ·è®¤è¯å’Œæ³¨å†Œ
- æŒä¹…åŒ–å¯¹è¯å†å²
- å®æ—¶èŠå¤©ç•Œé¢
- æ–‡ä»¶ä¸Šä¼ å’Œç®¡ç†
- é…ç½®è®¾ç½®

### ğŸ”§ é«˜çº§ç”¨æ³•

**MCP å·¥å…·ç‰ˆæœ¬**ï¼š
```bash
python run_mcp.py
```

**å¤šä»£ç†æµç¨‹ï¼ˆå®éªŒæ€§ï¼‰**ï¼š
```bash
python run_flow.py
```

## ğŸ“– ä½¿ç”¨ç¤ºä¾‹

### ä»£ç å¼€å‘
```
"å¸®æˆ‘åˆ›å»ºä¸€ä¸ªPythonç½‘ç»œçˆ¬è™«ï¼Œç”¨äºä»ç”µå•†ç½‘ç«™æå–äº§å“ä¿¡æ¯"
```

### æ•°æ®åˆ†æ
```
"åˆ†æè¿™ä¸ªCSVæ–‡ä»¶ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªæ˜¾ç¤ºé”€å”®è¶‹åŠ¿çš„å¯è§†åŒ–å›¾è¡¨"
```

### Webè‡ªåŠ¨åŒ–
```
"è®¿é—®GitHubï¼Œæœç´¢Pythonæœºå™¨å­¦ä¹ é¡¹ç›®ï¼Œå¹¶æ€»ç»“å‰5ä¸ªç»“æœ"
```

### æ–‡ä»¶æ“ä½œ
```
"æ•´ç†æˆ‘çš„ä¸‹è½½æ–‡ä»¶å¤¹ï¼ŒæŒ‰æ–‡ä»¶ç±»å‹åˆ†ç±»å¹¶ç”Ÿæˆæ‘˜è¦æŠ¥å‘Š"
```

### ç³»ç»Ÿç®¡ç†
```
"æ£€æŸ¥ç³»ç»Ÿæ€§èƒ½ï¼Œç”Ÿæˆèµ„æºä½¿ç”¨æŠ¥å‘Š"
```

## ğŸ› ï¸ é«˜çº§é…ç½®

### MCP æœåŠ¡å™¨é…ç½®

OpenManus æ”¯æŒ Model Context Protocol (MCP) æœåŠ¡å™¨ï¼Œå¯ä»¥æ‰©å±•æ›´å¤šåŠŸèƒ½ï¼š

```bash
# å¯åŠ¨ MCP æœåŠ¡å™¨
python run_mcp_server.py

# åœ¨å¦ä¸€ä¸ªç»ˆç«¯è¿è¡Œ MCP å®¢æˆ·ç«¯
python run_mcp.py
```

### æµè§ˆå™¨é…ç½®

é…ç½®æµè§ˆå™¨è‡ªåŠ¨åŒ–åŠŸèƒ½ï¼š

```toml
[browser]
headless = false  # æ˜¯å¦æ— å¤´æ¨¡å¼
timeout = 30      # è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
viewport_width = 1280
viewport_height = 720
```

### æœç´¢å¼•æ“é…ç½®

```toml
[search]
engine = "Google"  # ä¸»æœç´¢å¼•æ“
fallback_engines = ["DuckDuckGo", "Baidu", "Bing"]
max_retries = 3
```

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

### æ ¸å¿ƒç»„ä»¶

```
OpenManus/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ agent/             # AI ä»£ç†æ ¸å¿ƒ
â”‚   â”‚   â”œâ”€â”€ manus.py      # ä¸»ä»£ç†ç±»
â”‚   â”‚   â””â”€â”€ flow.py       # å¤šä»£ç†æµç¨‹
â”‚   â”œâ”€â”€ tool/             # å·¥å…·ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ base.py       # å·¥å…·åŸºç±»
â”‚   â”‚   â”œâ”€â”€ browser.py    # æµè§ˆå™¨å·¥å…·
â”‚   â”‚   â”œâ”€â”€ file.py       # æ–‡ä»¶æ“ä½œå·¥å…·
â”‚   â”‚   â””â”€â”€ search.py     # æœç´¢å·¥å…·
â”‚   â”œâ”€â”€ mcp/              # MCP åè®®æ”¯æŒ
â”‚   â””â”€â”€ config.py         # é…ç½®ç®¡ç†
â”œâ”€â”€ webui/                # Web ç•Œé¢
â”‚   â”œâ”€â”€ static/           # é™æ€èµ„æº
â”‚   â”œâ”€â”€ templates/        # HTML æ¨¡æ¿
â”‚   â””â”€â”€ app.py           # Web åº”ç”¨
â”œâ”€â”€ main.py              # å‘½ä»¤è¡Œå…¥å£
â”œâ”€â”€ run_webui.py         # Web UI å¯åŠ¨
â”œâ”€â”€ run_mcp.py           # MCP å®¢æˆ·ç«¯
â””â”€â”€ config.example.toml  # é…ç½®ç¤ºä¾‹
```

### å·¥å…·ç³»ç»Ÿ

OpenManus é‡‡ç”¨æ¨¡å—åŒ–çš„å·¥å…·ç³»ç»Ÿï¼š

- **æ–‡ä»¶å·¥å…·**: æ–‡ä»¶è¯»å†™ã€ç›®å½•æ“ä½œã€æ–‡ä»¶æœç´¢
- **æµè§ˆå™¨å·¥å…·**: ç½‘é¡µè®¿é—®ã€å…ƒç´ äº¤äº’ã€æˆªå›¾
- **æœç´¢å·¥å…·**: å¤šå¼•æ“æœç´¢ã€ç»“æœèšåˆ
- **ç³»ç»Ÿå·¥å…·**: å‘½ä»¤æ‰§è¡Œã€è¿›ç¨‹ç®¡ç†
- **MCP å·¥å…·**: å¤–éƒ¨æœåŠ¡é›†æˆ

### æ•°æ®åº“ç»“æ„

Web UIä½¿ç”¨SQLiteæ•°æ®åº“å­˜å‚¨æ•°æ®ï¼ŒåŒ…å«ä»¥ä¸‹è¡¨ï¼š

#### usersè¡¨
```sql
CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    username TEXT UNIQUE NOT NULL,
    email TEXT UNIQUE NOT NULL,
    password_hash TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    last_login TIMESTAMP,
    is_active BOOLEAN DEFAULT 1
);
```

#### conversationsè¡¨
```sql
CREATE TABLE conversations (
    id TEXT PRIMARY KEY,
    user_id INTEGER NOT NULL,
    title TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users (id)
);
```

#### messagesè¡¨
```sql
CREATE TABLE messages (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    conversation_id TEXT NOT NULL,
    role TEXT NOT NULL,
    content TEXT NOT NULL,
    tool_calls TEXT,
    tool_call_id TEXT,
    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (conversation_id) REFERENCES conversations (id)
);
```

## APIæ¥å£

Web UIæä¾›ä»¥ä¸‹REST APIæ¥å£ï¼š

### è®¤è¯æ¥å£
- `POST /login` - ç”¨æˆ·ç™»å½•
- `POST /register` - ç”¨æˆ·æ³¨å†Œ
- `GET /logout` - ç”¨æˆ·ç™»å‡º

### å¯¹è¯æ¥å£
- `GET /api/conversations` - è·å–ç”¨æˆ·çš„æ‰€æœ‰å¯¹è¯
- `POST /api/conversations` - åˆ›å»ºæ–°å¯¹è¯
- `GET /api/conversations/<id>/messages` - è·å–å¯¹è¯æ¶ˆæ¯

### èŠå¤©æ¥å£
- `POST /api/chat` - å‘é€æ¶ˆæ¯å¹¶è·å–AIå›å¤

## è‡ªå®šä¹‰å’Œæ‰©å±•

### ä¿®æ”¹æ ·å¼

ç¼–è¾‘ `templates/base.html` ä¸­çš„CSSæ ·å¼æ¥è‡ªå®šä¹‰ç•Œé¢å¤–è§‚ã€‚

### æ·»åŠ æ–°åŠŸèƒ½

1. åœ¨ `webui_app.py` ä¸­æ·»åŠ æ–°çš„è·¯ç”±
2. åœ¨ç›¸åº”çš„HTMLæ¨¡æ¿ä¸­æ·»åŠ å‰ç«¯ç•Œé¢
3. ä½¿ç”¨JavaScriptå¤„ç†ç”¨æˆ·äº¤äº’

### é›†æˆå…¶ä»–AIæ¨¡å‹

ä¿®æ”¹ `webui_app.py` ä¸­çš„ `process_with_agent` æ–¹æ³•æ¥é›†æˆå…¶ä»–AIæ¨¡å‹æˆ–æœåŠ¡ã€‚

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **é…ç½®æ–‡ä»¶é”™è¯¯**
   ```
   é”™è¯¯: Configuration file not found
   è§£å†³: ç¡®ä¿ config/config.toml æ–‡ä»¶å­˜åœ¨å¹¶æ­£ç¡®é…ç½®
   ```

2. **ä¾èµ–ç¼ºå¤±**
   ```
   é”™è¯¯: Missing Flask dependencies
   è§£å†³: pip install -r webui_requirements.txt
   ```

3. **æ•°æ®åº“æƒé™é—®é¢˜**
   ```
   é”™è¯¯: Permission denied to create database
   è§£å†³: ç¡®ä¿å½“å‰ç›®å½•æœ‰å†™æƒé™
   ```

4. **ç«¯å£è¢«å ç”¨**
   ```
   é”™è¯¯: Address already in use
   è§£å†³: ä½¿ç”¨ --port å‚æ•°æŒ‡å®šå…¶ä»–ç«¯å£
   ```

### è°ƒè¯•æ¨¡å¼

å¯ç”¨è°ƒè¯•æ¨¡å¼è·å–æ›´è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ï¼š

```bash
python run_webui.py --debug
```

### æ—¥å¿—æŸ¥çœ‹

æ£€æŸ¥æ§åˆ¶å°è¾“å‡ºå’Œæ—¥å¿—æ–‡ä»¶æ¥è¯Šæ–­é—®é¢˜ã€‚

## å®‰å…¨æ³¨æ„äº‹é¡¹

1. **ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²**
   - æ›´æ”¹é»˜è®¤çš„Flask secret key
   - ä½¿ç”¨HTTPSåè®®
   - é…ç½®é˜²ç«å¢™è§„åˆ™
   - å®šæœŸå¤‡ä»½æ•°æ®åº“

2. **å¯†ç å®‰å…¨**
   - ä½¿ç”¨å¼ºå¯†ç 
   - å®šæœŸæ›´æ¢å¯†ç 
   - å¯ç”¨ä¼šè¯è¶…æ—¶

3. **æ•°æ®ä¿æŠ¤**
   - å®šæœŸå¤‡ä»½SQLiteæ•°æ®åº“
   - é™åˆ¶æ•°æ®åº“æ–‡ä»¶è®¿é—®æƒé™
   - è€ƒè™‘åŠ å¯†æ•æ„Ÿæ•°æ®

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### å¦‚ä½•è´¡çŒ®

1. **Fork é¡¹ç›®**
2. **åˆ›å»ºåŠŸèƒ½åˆ†æ”¯** (`git checkout -b feature/AmazingFeature`)
3. **æäº¤æ›´æ”¹** (`git commit -m 'Add some AmazingFeature'`)
4. **æ¨é€åˆ°åˆ†æ”¯** (`git push origin feature/AmazingFeature`)
5. **åˆ›å»º Pull Request**

### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/Awakengine/OpenManus.git
cd OpenManus

# å®‰è£…å¼€å‘ä¾èµ–
pip install -r requirements-dev.txt

# è¿è¡Œæµ‹è¯•
python -m pytest

# ä»£ç æ ¼å¼åŒ–
black .
flake8 .
```

### ä»£ç è§„èŒƒ

- éµå¾ª PEP 8 Python ä»£ç è§„èŒƒ
- ä½¿ç”¨ç±»å‹æç¤º
- ç¼–å†™å•å…ƒæµ‹è¯•
- æ·»åŠ é€‚å½“çš„æ–‡æ¡£å­—ç¬¦ä¸²

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸º OpenManus é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç”¨æˆ·ï¼

## ğŸ“ è”ç³»æˆ‘ä»¬

- **GitHub Issues**: [æäº¤é—®é¢˜](https://github.com/Awakengine/OpenManus/issues)
- **è®¨è®ºåŒº**: [GitHub Discussions](https://github.com/Awakengine/OpenManus/discussions)
- **é‚®ç®±**: your-email@example.com

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼